{"ast":null,"code":"import React,{useEffect}from'react';import'../css/PostDetail.css';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PostDetail(_ref){var item=_ref.item,toggleDetails=_ref.toggleDetails;var navigate=useNavigate();var notifyA=function notifyA(msg){return toast.error(msg);};var notifyB=function notifyB(msg){return toast.success(msg);};var removePost=function removePost(postId){if(window.confirm(\"Do you really want to delete this post?\")){fetch(\"/\".concat(postId),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem('jwt')}}).then(function(res){return res.json();}).then(function(result){toggleDetails();navigate('/');notifyB(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\",alt:\"\"})}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",onClick:function onClick(){removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(function(comment){return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commentText\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" Likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\"// value={comment[`${item._id}`] ? comment[`${item._id}`] : \"\"}\n,name:item._id// onChange={(e) => {\n//     setComment({\n//         [e.target.name]: e.target.value\n//     });\n// }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"// onClick={() => {\n//     makeComment(comment[`${item._id}`], item._id);\n//     toggleComment()\n// // }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-comment\",onClick:function onClick(){toggleDetails();},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});}export default PostDetail;","map":{"version":3,"names":["React","useEffect","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","PostDetail","_ref","item","toggleDetails","navigate","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","fetch","concat","method","headers","Authorization","localStorage","getItem","then","res","json","result","message","className","children","src","photo","alt","style","borderBottom","postedBy","name","onClick","_id","comments","map","comment","fontWeight","likes","length","body","type","placeholder"],"sources":["/home/abhishek/learn/InstagramClone/backend/frontend/src/components/PostDetail.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport '../css/PostDetail.css'\nimport {useNavigate} from 'react-router-dom'\nimport {toast} from 'react-toastify'\n\nfunction PostDetail({ item, toggleDetails }) {\n    const navigate=useNavigate()\n      const notifyA = (msg) => toast.error(msg);\n  const notifyB = (msg) => toast.success(msg);\n    const removePost = (postId) => {\n        if (window.confirm(\"Do you really want to delete this post?\")) {\n            fetch(`/${postId}`, {\n                method: \"delete\",\n                headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem('jwt')\n                }\n            })\n                .then((res) => res.json())\n                .then((result) => { \n                    toggleDetails()\n                    navigate('/')\n                    notifyB(result.message)\n                 })\n\n        }\n\n\n    }\n\n    return (\n\n        <div className=\"showComment\">\n            <div className=\"container\">\n                <div className=\"postPic\">\n                    <img src={item.photo} alt=\"\" />\n                </div>\n                <div className=\"details\">\n                    {/* card header */}\n                    <div\n                        className=\"card-header\"\n                        style={{ borderBottom: \"1px solid #00000029\" }}\n                    >\n                        <div className=\"card-pic\">\n                            <img\n                                src=\"https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cGVyc29ufGVufDB8MnwwfHw%3D&auto=format&fit=crop&w=500&q=60\"\n                                alt=\"\"\n                            />\n                        </div>\n                        <h5>{item.postedBy.name}</h5>\n                        <div className=\"deletePost\" onClick={() => { removePost(item._id) }}>\n                            <span className=\"material-symbols-outlined\">\n                                delete\n                            </span>\n                        </div>\n                    </div>\n\n                    {/* commentSection */}\n                    <div\n                        className=\"comment-section\"\n                        style={{ borderBottom: \"1px solid #00000029\" }}\n                    >\n                        {item.comments.map((comment) => {\n                            return (\n                                <p className=\"comm\">\n                                    <span\n                                        className=\"commenter\"\n                                        style={{ fontWeight: \"bolder\" }}\n                                    >\n                                        {comment.postedBy.name}{\" \"}\n                                    </span>\n                                    <span className=\"commentText\">{comment.comment}</span>\n                                </p>\n                            );\n                        })}\n                    </div>\n\n                    {/* card content */}\n                    <div className=\"card-content\">\n                        <p>{item.likes.length} Likes</p>\n                        <p>{item.body}</p>\n                    </div>\n\n                    {/* add Comment */}\n                    {/* <div className=\"add-comment\">\n          <span className=\"material-symbols-outlined\">mood</span>\n          <input\n            type=\"text\"\n            placeholder=\"Add a comment\"\n            value={comment}\n            onChange={(e) => {\n              setComment(e.target.value);\n            }}\n          />\n          <button\n            className=\"comment\"\n            onClick={() => {\n              makeComment(comment, item._id);\n              toggleComment();\n            }}\n          >\n            Post\n          </button>\n        </div> */}\n\n                    <div className=\"add-comment\">\n                        <span className=\"material-symbols-outlined\">mood</span>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Add a comment\"\n                            // value={comment[`${item._id}`] ? comment[`${item._id}`] : \"\"}\n                            name={item._id}\n                        // onChange={(e) => {\n                        //     setComment({\n                        //         [e.target.name]: e.target.value\n                        //     });\n                        // }}\n                        />\n                        <button\n                            className=\"comment\"\n                        // onClick={() => {\n                        //     makeComment(comment[`${item._id}`], item._id);\n                        //     toggleComment()\n                        // // }}\n                        >\n                            Post\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div\n                className=\"close-comment\"\n                onClick={() => {\n                    toggleDetails();\n                }}\n            >\n                <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\n                    close\n                </span>\n            </div>\n        </div>\n    )\n}\n\nexport default PostDetail\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}