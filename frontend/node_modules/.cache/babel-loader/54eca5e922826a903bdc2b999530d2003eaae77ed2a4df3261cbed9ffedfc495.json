{"ast":null,"code":"import _slicedToArray from\"/home/abhishek/learn/InstagramClone/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import PostDetail from\"../components/PostDetail\";import\"../css/Profile.css\";import ProfilePic from'../components/ProfilePic';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profie(){var picLink=\"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pic=_useState2[0],setPic=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),changePic=_useState10[0],setChangePic=_useState10[1];var toggleDetails=function toggleDetails(posts){if(show){setShow(false);}else{setShow(true);setPosts(posts);}};var changeprofile=function changeprofile(){if(changePic){setChangePic(false);}else{setChangePic(true);}};useEffect(function(){fetch(\"/user/\".concat(JSON.parse(localStorage.getItem(\"user\"))._id),{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){// console.log(result)\nsetPic(result.post);setUser(result.user);// console.log(pic);\n});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-frame\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\",children:/*#__PURE__*/_jsx(\"img\",{onClick:changeprofile,src:user.Photo?user.Photo:picLink,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pofile-data\",children:[/*#__PURE__*/_jsx(\"h1\",{children:JSON.parse(localStorage.getItem(\"user\")).name}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[pic?pic.length:\"0\",\" posts\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.followers?user.followers.length:\"0\",\" followers\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.following?user.following.length:\"0\",\" following\"]})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\",opacity:\"0.8\",margin:\"25px auto\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:pic.map(function(pics){return/*#__PURE__*/_jsx(\"img\",{src:pics.photo,style:{cursor:\"pointer\"},onClick:function onClick(){toggleDetails(pics);},className:\"item\"},pics._id);})}),show&&/*#__PURE__*/_jsx(PostDetail,{item:posts,toggleDetails:toggleDetails}),changePic&&/*#__PURE__*/_jsx(ProfilePic,{changeprofile:changeprofile})]});}","map":{"version":3,"names":["React","useEffect","useState","PostDetail","ProfilePic","jsx","_jsx","jsxs","_jsxs","Profie","picLink","_useState","_useState2","_slicedToArray","pic","setPic","_useState3","_useState4","show","setShow","_useState5","_useState6","posts","setPosts","_useState7","_useState8","user","setUser","_useState9","_useState10","changePic","setChangePic","toggleDetails","changeprofile","fetch","concat","JSON","parse","localStorage","getItem","_id","headers","Authorization","then","res","json","result","post","className","children","onClick","src","Photo","alt","name","style","display","length","followers","following","width","opacity","margin","map","pics","photo","cursor","item"],"sources":["/home/abhishek/learn/InstagramClone/backend/frontend/src/screens/Profile.js"],"sourcesContent":["\n\n\nimport React, { useEffect, useState } from \"react\";\nimport PostDetail from \"../components/PostDetail\";\nimport \"../css/Profile.css\";\nimport ProfilePic from '../components/ProfilePic'\n\nexport default function Profie() {\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"\n  const [pic, setPic] = useState([]);\n  const [show, setShow] = useState(false)\n  const [posts, setPosts] = useState([]);\n  const [user, setUser] = useState(\"\")\n  const [changePic, setChangePic] = useState(false)\n\n\n  const toggleDetails = (posts) => {\n    if (show) {\n      setShow(false);\n    } else {\n      setShow(true);\n      setPosts(posts);\n    }\n  };\n\n  const changeprofile = () => {\n    if (changePic) {\n      setChangePic(false)\n    } else {\n      setChangePic(true)\n    }\n  }\n\n\n  useEffect(() => {\n    fetch(`/user/${JSON.parse(localStorage.getItem(\"user\"))._id}`, {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        // console.log(result)\n        setPic(result.post);\n        setUser(result.user)\n        // console.log(pic);\n      });\n  }, []);\n\n  return (\n    <div className=\"profile\">\n      {/* Profile frame */}\n      <div className=\"profile-frame\">\n        {/* profile-pic */}\n        <div className=\"profile-pic\">\n          <img\n            onClick={changeprofile}\n            src={user.Photo ? user.Photo : picLink}\n            alt=\"\"\n          />\n        </div>\n        {/* profile-data */}\n        <div className=\"pofile-data\">\n          <h1>{JSON.parse(localStorage.getItem(\"user\")).name}</h1>\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\n            <p>{pic ? pic.length : \"0\"} posts</p>\n            <p>{user.followers ? user.followers.length : \"0\"} followers</p>\n            <p>{user.following ? user.following.length : \"0\"} following</p>\n          </div>\n        </div>\n      </div>\n      <hr\n        style={{\n          width: \"90%\",\n\n          opacity: \"0.8\",\n          margin: \"25px auto\",\n        }}\n      />\n      {/* Gallery */}\n      <div className=\"gallery\">\n        {pic.map((pics) => {\n          return <img key={pics._id} src={pics.photo} style={{cursor:\"pointer\"}}\n            onClick={() => {\n              toggleDetails(pics)\n            }}\n            className=\"item\"></img>;\n        })}\n      </div>\n      {show &&\n        <PostDetail item={posts} toggleDetails={toggleDetails} />\n      }\n      {\n        changePic &&\n        <ProfilePic changeprofile={changeprofile} />\n      }\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}